# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1qUyHt5YAIBYpfPDoM-QTHgSoVF5CfZPn
"""

#pip install streamlit

import streamlit as st
import pandas as pd
import joblib

# Load the trained model
model = joblib.load('logistic_model.pkl')

# Title
st.title("Titanic Survival Prediction")

# User inputs
st.header("Enter passenger details:")
col1, col2, col3, col4, col5, col6, col7 = st.columns(7)

with col1:
    pclass = st.selectbox("Passenger Class", [1, 2, 3])
with col2:
    age = st.number_input("Age", min_value=0, max_value=100, value=25)
with col3:
    sibsp = st.number_input("Number of Siblings/Spouses Aboard", min_value=0, max_value=10, value=0)
with col4:
    parch = st.number_input("Number of Parents/Children Aboard", min_value=0, max_value=10, value=0)
with col5:
    fare = st.number_input("Fare", min_value=0, max_value=1000, value=50)
with col6:
    sex = st.selectbox("Sex", ["male", "female"])
with col7:
    embarked = st.selectbox("Port of Embarkation", ["C", "Q", "S"])

# Encoding user inputs
data = {
    'Pclass': pclass,
    'Age': age,
    'SibSp': sibsp,
    'Parch': parch,
    'Fare': fare,
    'Sex_female': 1 if sex == "female" else 0,
    'Sex_male': 1 if sex == "male" else 0,
    'Embarked_C': 1 if embarked == "C" else 0,
    'Embarked_Q': 1 if embarked == "Q" else 0,
    'Embarked_S': 1 if embarked == "S" else 0
}
input_data = pd.DataFrame([data])

# Prediction
prediction = model.predict(input_data)[0]
prediction_proba = model.predict_proba(input_data)[0]

# Display prediction
st.subheader("Prediction")
if prediction == 1:
    st.write("The passenger is predicted to survive.")
else:
    st.write("The passenger is predicted to not survive.")

# Display prediction probability with meaningful names
st.subheader("Prediction Probability")
st.write(f"Probability of Not Surviving: {prediction_proba[0]:.2f}")
st.write(f"Probability of Surviving: {prediction_proba[1]:.2f}")

